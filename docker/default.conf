server {
    listen       80;
    listen  [::]:80;
    server_name  _;

    root   /app;

    index index.html;

    # Correct MIME types for Markdown files
    types {
        text/markdown md;
        text/plain txt;
        text/html html htm;
        text/css css;
        application/javascript js;
        application/json json;
    }

    # Incluir configuraciones de seguridad/autenticación
    # Los archivos se generan dinámicamente en el entrypoint según variables de entorno
    include /etc/nginx/security/*.conf;

    location / {

        autoindex on;                 # <--- Habilita listado
        autoindex_exact_size off;     # Opcional: tamaños legibles
        autoindex_localtime on;       # Opcional: fechas legibles
        try_files $uri $uri/ =404;
    }

    # Custom error pages
    error_page 404 /401.html;
    error_page 403 /403.html;
    # error_page 500 502 503 504 /50x.html;

    # # Locations for error pages
    # location = /401.html {
    #     internal;
    # }

    # location = /403.html {
    #     internal;
    # }

    # location = /50x.html {
    #     internal;
    # }
}

